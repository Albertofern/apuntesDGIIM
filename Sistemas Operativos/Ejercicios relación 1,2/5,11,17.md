# Actividades 5, 11 y 17

## 5. Sea un sistema multiprogramado que utiliza el algoritmo Por Turnos (Round-Robin). Sea S el tiempo que tarda el despachador en cada cambio de contexto, y N el número de procesos existente.¿Cuál debe ser el valor de quantum Q para que se asegure que cada proceso “ve” la CPU al menos cada T segundos?

**Se ponen las soluciones de ambos grupos porque las dos son válidas**

*S: tiempo que tarda el despachador en cada cambio de contexto*

*N: número de procesos existente*

*Q: valor de quantum*

*T: segundos*

Para N > 1:

$T = N \cdot S + (N - 1) \cdot Q \Rightarrow Q = \frac{T - N \cdot S}{N - 1}$

Esto es así ya que suponemos que la última vez que el proceso ve la CPU es antes de gastar el último quantum.

*Forma alternativa de expresar la frase anterior: consideramos el tiempo T desde que un proceso acaba hasta que vuelve a ser llamado*

*****

S+Q es el tiempo que tarda en hacer el cambio de contexto y en ejecutarlo, esto se repite para cada proceso. Por lo tanto, para que todo los N procesos pasen por el procesador se tienen N cambios de contextos y ejecuciones $N(S+Q)$ y esto tienen que ocurrir en menos de T segundos para que todos los procesos sean vistos $N(S+Q) \leq T$. Despejando Q tenemos $Q \leq \frac{T-N \cdot S}{N}$


## 11. Utilizando los valores de la tabla del problema anterior, calcula los tiempos medios de espera y respuesta para los siguientes algoritmos:

### a) Por Turnos con quantum q=1

|   | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 |
|---|---|---|---|---|---|---|---|---|---|---|----|----|----|----|----|
| A |   |   |   |   |   | X |   |   |   |   |    |    |    |    |    |
| B | X |   | X |   | X |   |   | X |   |   | X  |    |    |    |    |
| C |   | X |   | X |   |   | X |   | X |   |    |    |    |    |    |
| D |   |   |   |   |   |   |   |   |   | X |    | X  |    | X  |    |
| E |   |   |   |   |   |   |   |   |   |   |    |    | X  |    | X  |

Cola:

T<sub>0</sub> B, T<sub>1</sub> CB, T<sub>2</sub> BC, T<sub>3</sub> CB, T<sub>4</sub> BAC , T<sub>5</sub> ACB, T<sub>6</sub> CB, T<sub>7</sub> BC, T<sub>8</sub> CDB, T<sub>9</sub> DB, T<sub>10</sub> BD, T<sub>11</sub> D, T<sub>12</sub> ED, T<sub>13</sub> DE, T<sub>14</sub> E

Tiempo de espera:

M<sub>A</sub> = 1\
M<sub>B</sub> = 6\
M<sub>C</sub> = 4\
M<sub>D</sub> = 3\
M<sub>E</sub> = 1

$\overline{M} = \frac{15}{5} = 3$

Tiempo de respuesta:

T<sub>A</sub> = 1\
T<sub>B</sub> = 0\
T<sub>C</sub> = 0\
T<sub>D</sub> = 1\
T<sub>E</sub> = 0

$\overline{T} = \frac{2}{5} = 0,4$


### b) Por Turnos con quantum q=4

|   | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 |
|---|---|---|---|---|---|---|---|---|---|---|----|----|----|----|----|
| A |   |   |   |   |   |   |   |   | X |   |    |    |    |    |    |
| B | X | X | X | X |   |   |   |   |   | X |    |    |    |    |    |
| C |   |   |   |   | X | X | X | X |   |   |    |    |    |    |    |
| D |   |   |   |   |   |   |   |   |   |   | X  | X  | X  |    |    |
| E |   |   |   |   |   |   |   |   |   |   |    |    |    | X  | X  |

Cola:

T<sub>0</sub> B, T<sub>1</sub> C, T<sub>2</sub> C, T<sub>3</sub> C, T<sub>4</sub> CAB, T<sub>5</sub> AB, T<sub>6</sub> AB, T<sub>7</sub> AB, T<sub>8</sub> ABD, T<sub>9</sub> BD, T<sub>10</sub> D, T<sub>11</sub> , T<sub>12</sub> E, T<sub>13</sub> E, T<sub>14</sub>

Tiempo de espera:

M<sub>A</sub> = 4\
M<sub>B</sub> = 5\
M<sub>C</sub> = 3\
M<sub>D</sub> = 2\
M<sub>E</sub> = 1

$\overline{M} = \frac{15}{5} = 3$

Tiempo de respuesta:

T<sub>A</sub> = \
T<sub>B</sub> = \
T<sub>C</sub> = \
T<sub>D</sub> = \
T<sub>E</sub> =

$\overline{T} = \frac{}{5} = $

### c) El más corto primero (SJF). Suponga que se estima una ráfaga igual a la real.

|   | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 |
|---|---|---|---|---|---|---|---|---|---|---|----|----|----|----|----|
| A |   |   |   |   |   | X |   |   |   |   |    |    |    |    |    |
| B | X | X | X | X | X |   |   |   |   |   |    |    |    |    |    |
| C |   |   |   |   |   |   | X | X | X | X |    |    |    |    |    |
| D |   |   |   |   |   |   |   |   |   |   | X  | X  | X  |    |    |
| E |   |   |   |   |   |   |   |   |   |   |    |    |    | X  | X  |

Cola:

T<sub>0</sub> B, T<sub>1</sub> C, T<sub>2</sub> C, T<sub>3</sub> C, T<sub>4</sub> AC, T<sub>5</sub> AC, T<sub>6</sub> C, T<sub>7</sub> , T<sub>8</sub> D, T<sub>9</sub> D, T<sub>10</sub> D, T<sub>11</sub> , T<sub>12</sub> E, T<sub>13</sub> E, T<sub>14</sub>

Tiempo de espera:

M<sub>A</sub> = 1\
M<sub>B</sub> = 0\
M<sub>C</sub> = 5\
M<sub>D</sub> = 2\
M<sub>E</sub> = 1

$\overline{M} = \frac{9}{5} = 1,8$

Tiempo de respuesta:

T<sub>A</sub> = \
T<sub>B</sub> = \
T<sub>C</sub> = \
T<sub>D</sub> = \
T<sub>E</sub> =

$\overline{T} = \frac{}{5} = $

##17 ¿Cuál es el problema que se plantea en Linux cuando un proceso no realiza la llamada al sistema wait para  cada  uno  de  sus  procesos  hijos  que  han terminado  su  ejecución? ¿Qué efecto puede producir esto en el sistema?

Si no se realiza la llamada wait para cada uno de sus hijos aunque acabe el proceso padre, el proceso hijo se mantiene en estado zombie, ocupando una entrada en la tabla de procesos y su contexto es descargado de memoria, existiendo aunque no se esté ejecutando. Si un proceso no es esperado por su padre, continúa consumiendo recursos (tabla de entrada, memoria, el planificador lo tiene en cuenta,...), provocando la ineficiencia del sistema. No se podrían crear nuevos procesos por estar la memoria ocupada, se eliminarán únicamente al apagar el ordenador

****

Zombie

EXIT_ZOMBIE

El proceso ya no existe pero mantiene la entrada de la tabla de
procesos hasta que el padre haga un wait

(EXIT_DEAD)
